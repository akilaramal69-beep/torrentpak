const a={async request(s,e={}){const n=`/api${s}`,r={credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e};e.body&&typeof e.body=="object"&&(r.body=JSON.stringify(e.body));const t=await fetch(n,r);if(!t.ok){const o=await t.json();throw new Error(o.error||"Request failed")}return t.json()},async getUser(){return this.request("/user")},async addDownload(s,e){return this.request("/download",{method:"POST",body:{url:s,name:e}})},async getTasks(){return this.request("/tasks")},async getFiles(s){const e=s?`/files?parent_id=${s}`:"/files";return this.request(e)}};export{a as pikpak};
